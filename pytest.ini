[pytest]
# Pytest configuration for STDPipe

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Directories to search for tests
testpaths = tests

# Minimum version
minversion = 6.0

# Add command line options
addopts =
    # Verbose output
    -v
    # Show local variables in tracebacks
    --showlocals
    # Show summary of all test outcomes
    -ra
    # Strict markers - fail on unknown markers
    --strict-markers
    # Coverage report (if pytest-cov is installed)
    # --cov=stdpipe
    # --cov-report=html
    # --cov-report=term-missing

# Markers for categorizing tests
markers =
    unit: Unit tests that don't require external dependencies
    integration: Integration tests that may require external tools (SExtractor, etc.)
    slow: Tests that take significant time to run
    requires_sextractor: Tests requiring SExtractor to be installed
    requires_scamp: Tests requiring SCAMP to be installed
    requires_psfex: Tests requiring PSFEx to be installed
    requires_hotpants: Tests requiring HOTPANTS to be installed
    requires_astrometry_net: Tests requiring Astrometry.Net to be installed
    requires_network: Tests that require network access (catalog queries, etc.)

# Ignore warnings from dependencies
filterwarnings =
    ignore::FutureWarning
    ignore::DeprecationWarning:astropy.*
    ignore::astropy.wcs.FITSFixedWarning

# Set Python path
pythonpath = .
